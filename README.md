# Краткий курс по Git
## Что такое Git?
Git - система управления версиями, используемая разработчиками для контроля за изменениями в проекте. Она особенно хорошо себя показывает при командной разработке. При командной разработке она часто используется соместно с системами управления удалёнными репозиториями вроде GitHUB и GitLab.


## Установка Git
Для использования Git вам следует сперва его установить. Если вы пользователь Windows, то установите консольный инструмент [Git Bash](https://git-scm.com/download/win). Это терминал, который имеет схожий с Unix системами синтаксис команд. Так вам будет удобнее в дальнейшем использовать Git на любой системе. Терминал можно интегрировать в редактор VsCode. После установки откройте приложение Git Bash. 
В случае, если вы используете Linux, перейдите на [официальный сайт Git](https://git-scm.com/download/linux) и выберите команду установки для своей версии Linux. Скопируйте её в программу Terminal и нажмите Enter. Введите в терминал команду для проверки.
```
$ git version
```
На macOS установите менеджер пакетов [Homebrew](https://brew.sh/).На сайте есть команда для установки. Введите в терминал команду
```
$ brew install git
```
Проверьте установку командой
```
$ git version
```

## Работа с терминалом
Далее вам понадобятся некоторые первичные навыки работы с терминалом.
Вот шпаргалка по базовым командам.
### Структура поля ввода в терминал
Терминал ожидает принять от вас команду, когда выводит следующее сообщение:


**На Windows и Linux**
``` bash
userName@ComputerName <directiry> $
```
**На Macos**
``` bash
computerName:<directory> userName$
```
Здесь ```directory``` - директория, в которой вы назодитесь.  
Со значка ```$``` начинается ваше поле ввода команд. В дальнейшем, для  удобства восприятия, все команды в руководстве будут начинаться с ```$```, но вам его писать в терминал не надо.
### Названия директорий и файлов
У файла (папки(директории), которая, вообще, тоже считается файлом) есть два имени. Полное включает в себя путь к файлу, например ```/c/home-work/hw.txt```. По этому имени мы сразу понимаем, что файл ```hw.txt``` находится в папке ```home-work``` на диске ```c```. Зная полное имя файла (путь к файлу) можно обратиться к нему, находясь в любой директории. ```hw.txt``` будем называть сокращённым именем файла или просто именем файла. По нему можно обратиться к файлу из его родительской директории (здесь это папка ```home-work```). Далее рассмотрим часто используемы названия директорий.
* `.` - да, это просто точка (не забудьте отделить её пробелом от команды), она обозначает текущую дирректорию. Иногда при работе с терминалом приходится обращаться к текущей директории;
* ```..``` - две точки, они обозначают родительскую директорию, то есть стоящую на уровень выше той, в которой вы сейчас находитесь;
* ```~``` - это ваша домашняя директория, то есть папка, в котрой хранятся файлы пользователя. При запуске терминала, он находится именно в домашней дирректории. Если запустите терминал и введёте ```$ pwd``` 9о командах дальше, он покажет путь к вашей домашней дирректории. На Windows он будет выглядеть как то так: ```/c/Users/userName```;
* ```/``` для Linux или MacOS или ```/c/``` - корневая дирректория, то есть директория, находящаяся в начале пути к директории, в которой вы находитесь. UNIX-подобные системы и Windows отличаются. В них нет дисков, поэтому не надо вводить букву диска;
* ```.fileName``` - так обозначаются скрытые файлы и папки, для того, чтобы увидеть их призодится использовать специальные ключи при вводе команд. Вообще, директории ```.``` и ```..``` тоже считаются скрытыми директориями, лежащими в текущей.

Используя выше указанные специальные названия директорий можно легко перемещаться по файловой системе вашего компьютера. Например в Windows, находясь папке ```homework``` в в родительской директории ```~``` ( путь к ней ```/c/Users/userName/```), можно обратиться к файлу ```/c/users/userName/game/config.txt``` неаколькими способами:
* по пути, указанном в полном имени файла ```/c/users/userName/game/config.txt```;
* по пути из родительской директории `~/game/config.txt`;
* по пути из папки, в которой вы находитесь ```../game/config.txt```;
* перейти в директорию ```game``` командой ```$ cd ../game``` (о командах дальше) и обратиться напрямую по имени файла ```config.txt```.


*Если в названии директории или файла присутсвуют пробелы, то обращаться к нему надо через ковычки. Например, ```~/"home work"/"h w.txt"```.*
### Навигация  
* ```$ pwd``` - (print work directory) показывает, в какой директории вы находитесь;  
* ```$ ls <dir>``` - (list direcry contents) показывает, какие файлы и папки находятся в папке ```dir```, или в текущей папке, если поле ```dir``` пустое;   
* ```$ ls -a <dir>``` - работает аналогично предыдущей команде, но ключ ```-a``` позволяет посмореть скрыте паки и файлы;   
* ```$ cd <dir>``` - (change directory) переводит вас в папку ```dir```.  
#### Создание
* ```$ touch <file name>``` - создаёт файл с именем ```file name``` в текущей дирректории или в пути, указанном в имени файла;   
* ```$ mkdir <dir name>``` - (make directory) создаёт папку с именем ```dir name``` в текущей директории или в пути, указанном в названии дирректории.   
#### Копирование и преемещение
* ```$ cp <file> <dir>``` - (copy) копирует файл ```file```  в папку ```dir```;  
* ```$ mv <file> <dir>``` - (move) переносит файл ```file``` в папку ```dir```;  
### Чтение файла
* ```$ cat <file>``` - (con**cat**enate and print) показывает содержимое файла ```file```, но работает только с тектовыми файлами.  
### Удаление
* ```$ rm <file>``` - (remove) удаляет файл ```file``` безвозвратно (без перемещения в корзину); 
* ```$ rm -r <dir>``` - (**r** - recursive) удаляет все файлы и папки в директории ```dir``` безвозвратно;
* `$ rm -rf <dir>` - (**f** - force) ключ f позволяет удалить папку без лишних вопросов от терминала вроде "вы точно хотите удалить этот файл";
* ```$ rmdir <dir>``` - (remove directory) удаляет директорию ```dir``` безвозвратно, но работает только с пустыми папками;  
### Полезные возможности
* В полях `file`, `file name`, `dir`, `dir name` можно указывать как сокращенные названия файлов, для обращения к ним из текущих директорий, так и их полные имена (пути к ним из текущей, корневой или домашней директории).
* В терминал можно вводить сразу несколько команд, разделяя их с помощью `&&`. Например `$ mkdir try1 && touch fileA.txt && mv fileA.txt try1` создаст в текущей директории папку `try1`, создаст в текущей директории файл `fileA.txt` и переместит его в директорию `try1`.
* В некоторых случаях в полях `file`/`file name` или `dir`/`dir name` возможно указать сразу несколько имен файлов. Например `$ touch file1.txt file2.txt` создаст файлы `file1.txt` и `file2.txt` в текущей директории.
* У консоли есть собственная память — буфер с несколькими последними командами. По ним можно перемещаться с помощью клавиш со стрелками вверх (`↑`) и вниз (`↓`).
* Чтобы не вводить название файла или папки полностью, можно набрать первые символы имени и нажать `Tab`. Если файл или папка есть в текущей директории, командная строка допишет путь сама. Если файлов, начинающихся так несколько, то командная строка ничего не напишет. В таком случае нажмите `Tab` несколько раз для вывод всех возможных вариаций. Также можно дописывать команды. Если не пмините полное название команды, то введите первые её буквы, нажмите несколько раз Tab и терминал выдаст все команды, начинающиеся таким образом. Если команд/файлов слишком много, терминал потребует подтверждения вывода (введите y для подтверждения, n для отмены).

## Работа с Git
После того, как мы разобрались с базовыми коандами, используемыми при работе с терминалом, можем приступать к изучению работы с Git-репозиториями. Последовательно выполните действия, описанные в следующих параграфах.
### Настройка Git
Сперва надо настроить Git, а именно указать ваше имя или никнейм и электронную почту. Это необходимо для дальнейшей командной работы, чтобы было видно, кто какие изменения внёс в проект. Настройки Git хранятся в скрытом файле `.gitconfig` в домашней директории.
Для настройки введите команды 
``` bash
$ git config --global user.name "User Namovich" 
# имя или ник нужно написать латиницей и в кавычках

$ git config --global user.email username@yandex.ru
# здесь нужно указать свой настоящий email 
```
Флаг `--global` означает "глобальный".

Для проверки можете вызвать содержимое файла `.gitconfig`, чтобы убедиться, что настройки применены. Сделайте это командой:
``` bash
$ cat ~/.gitconfig
```
Либо командой:
``` bash
$ git config --list
```
Флаг `--list` означает "список" 
### Инициализация репозитория
Для того чтобы Git начал отслеживать измения в проекте необходимо сделать папку с файлами проекта Git-репозиторием. Для этого перейдите в директорию проекта и введите команду
``` bash
$ git init
```
Git создаст в этой директории скрытую подпапку .git. Это рабочая папка служебная папка Git, в которой он хранит информацию о об изменнеиях в вашем проекте.  
Если Git выдаст в терминал сообщение вроде `Using 'master' as the name...`, не пугайтесь, это просто пердупреждение о том, что ваша ветка по умолчанию называется 'master', и что вы можете изменить это значение по умолчанию указанными командами, например, на 'main'.  
### Удаление репозитория
Если в вдруг инициализировали не ту папку, можете "разгитить" её, удалив папку `.git`  
Для этого, находясь в репозитории, используйте команду 
``` bash
$ rm -rf .git
```
Но будьте осторожны с использованием этой команды. Такое удаление безвозвратно, и вы можете потерять всю информацию об изменениях в проекте.
### Проверка репозитория
Введите команду
``` bash
$ git status
```
Данная команда позволяет проверить состояние репозитория. У вас она выведет:
* название текущей ветки: `On branch master или On branch main`;
* сообщение о том, что в репозитории ещё нет коммитов: `No commits yet`;
* сообщение, которое говорит: «чтобы что-нибудь закоммитить (то есть зафиксировать), нужно сначала это создать» — `nothing to commit (create/copy files and use "git add" to track)`.
В дальнейшем используйте эту команду в любой непонятной ситуации.
### Добавление файлов в репозиторий
Теперь можете создавать в своём репозитории файлы. Хоть через GUI (графический интерфес пользователя, то есть через проводник или из САПРа), хоть через команду `touch`.  
После введите команду `$ git status`. Он сообщит вам, что в репозитории есть неотслеживаемые файлы (`untracked files`) и укажет вам их имена. Это значит, что Git еще не начал следить за изменеиями в соданных вамаи файлах. Значит, вам нужно добавить их в спиок отслеживания (его ещё называюе 'tracked files').  
Введите команды
``` bash
$ git add --all
$ git status
```
`git add --all` добавляет все файлы в вашем проекте в список отслеживания. Вместо `--all` можно указать имена конкретных файлов, которые вы хотите добавить или `.`, то есть указатель на текущую директорию.  
`git status` выведет вам строку `Changes to be committed`, а под ней поля `new file: <имя одного из ваших файлов>`. Это значит, что ваши файлы попали в список 'staged', Git запомнил их состояние на момент команды `add` и готов сохранить, какие изменения в них произошли. Можно сказать, что Git добавил их на сцену и готов сделать снимок.  
Если вы измените содержимое в каком-то из файлов, и вызовите `ststus`, то он появится в новом поле `changes not staged for commit` после надписи `modified:`. Это значит, что Git заметил изменение в файле, но новая его версия не находится в списке 'staged', и для того чтобы сохранить изменения в нем, вам нужно снова добавить файл в этот список командой `git add <file>`.

### Выполнение первого коммита
Коммит - это сохранение изменений в вашем проекте в истории. Он даёт возможность откатиться, в случае чего, к предыдущим версиям проекта. Как сочетание клавишь `Ctrl+Z`, но для целой папки. 

Коммит вывполняется командой `git commit -m "<message>"`. В поле `message` указывается комментарий к комииту, ключ `m` позволяет указать этот комментарий.  

Сделайте коммит введя команду
```bash
$ git commit -m "мой первый коммит"
```
Терминал посторочно выдаст вам сообщение о том, в какой ветке был коммит, что это первый коммит (`root-commit`), сокращённы идентефикатор коммита, сколько файлов было изменено, сколько строк добавлено или убрано.   
Строки вида `create mode 100644 readme.txt` сообщают более подробную информацию о новых файлах. `create` - файл создан, `mode 100644` - тип файла (100644 - обычный файл, 100755 - исполняемый файл, 120000 - файл-ссылка в Linux).

Теперь при вызове `git status` терминал сообщит вам `nothing to commit, working tree clean`, что значит, что в проекте не было изменений со времен предыдущего коммита.

Таким образом, если ранее мы сравнили команду `git add` с добавлением объектов на сцену для дальнейшего фотоснимка, то `git commit` и есть делание этого самого фотоснимка. Он "снимает" состояние вашего проекта в списке "staged" (в терминале выводится как `changes to be commited:`) в данный момент.

### Просмотр истории коммитов
Введите команду
``` bash
$ git log
```
Она выведет вам историю коммитов вместе с их хэш-ссылками, автором коммита, датой коммита и коментарием.  
Обратите внимание, что самый последний коммит находится вверху и обозначен:
``` bash
commit <hash> (HEAD -> master) #первый коммит имеет скобки после идентификатора
```
Можно вызвать сокращённую историю коммитов, состоящую лишь из сокращённых хэш ссылок и комментариев. Для этого нужно использовать флаг `--oneline`. Введите команду:
``` bash
$ git log --oneline
```
